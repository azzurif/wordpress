(()=>{"use strict";var e,o={718:(e,o,t)=>{const a=window.React,n=window.wp.blocks,l=window.wp.i18n,r=window.wp.blockEditor,i=window.wp.components,s=window.wp.element,c=window.wp.compose,p=window.wp.apiFetch;var u=t.n(p);const d=window.wp.url,v=async()=>{try{const e=await u()({path:(0,d.addQueryArgs)("/wp/v2/posts",{per_page:-1})}),o=(await u()({path:(0,d.addQueryArgs)("/cozy-block/v1/popular-posts",{per_page:-1})})).map((e=>e.ID));return e.filter((e=>!o.includes(e.id))).map((e=>e.id))}catch(e){return[]}},g=(0,s.memo)((({excludeIds:e})=>{const o=(0,r.useInnerBlocksProps)({className:"cozy-block-popular-posts"},{template:[["core/query",{className:"swiper-container swiper-vertical",queryId:0,query:{exclude:e,postType:"post",parents:["cozy-block/popular-post"],order:"desc"},lock:{move:!1,remove:!0}},[["core/post-template",{className:"swiper-wrapper cozy-popular-post-template",lock:{move:!1,remove:!0}},[["core/columns",{},[["core/column",{width:"35%"},[["core/post-featured-image",{height:"100px"}]]],["core/column",{width:"100%"},[["core/post-title",{isLink:!0,fontSize:"medium"}],["core/post-date"]]]]]]]]]]});return(0,a.createElement)("div",{...o})})),y=(0,s.memo)((({clientId:e,attributes:o})=>{const[t,n]=(0,s.useState)([]),l=(0,c.useRefEffect)((e=>{v().then((e=>{n(e)}))}),[o]),r=(0,c.useRefEffect)((e=>{v().then((e=>{n(e)}));const t=[{property:"--cozyHeight",value:`${o.carouselOptions.height}px`},{property:"--cozyNavVerticalGap",value:`${o.carouselOptions.navigation.verticalGap}px`},{property:"--cozyNavIconSize",value:`${o.carouselOptions.navigation.iconSize}px`},{property:"--cozyNavWidth",value:`${o.carouselOptions.navigation.iconBoxWidth}px`},{property:"--cozyNavHeight",value:`${o.carouselOptions.navigation.iconBoxHeight}px`},{property:"--cozyNavBorderRadius",value:`${o.carouselOptions.navigation.borderRadius}px`},{property:"--cozyNavIconColor",value:o.carouselOptions.navigation.color},{property:"--cozyNavIconColorHover",value:o.carouselOptions.navigation.colorHover},{property:"--cozyNavBgColor",value:o.carouselOptions.navigation.backgroundColor},{property:"--cozyNavBgColorHover",value:o.carouselOptions.navigation.backgroundColorHover}];null!==e&&t.forEach((o=>{e.style.setProperty(o.property,o.value)}));const a=setInterval((()=>{if(e){const t=e.querySelectorAll(".wp-block-post");if(t.length>0){clearInterval(a),t.forEach((e=>{e.classList.add("swiper-slide")}));const n=e.querySelector(".swiper-container"),l=e.querySelector(".swiper-button-prev"),r=e.querySelector(".swiper-button-next"),i={direction:"vertical",autoplay:o.carouselOptions.sliderOptions.autoplay,loop:o.carouselOptions.sliderOptions.loop,speed:o.carouselOptions.sliderOptions.speed,slidesPerView:o.carouselOptions.sliderOptions.slidesPerView,spaceBetween:o.carouselOptions.sliderOptions.spaceBetween,navigation:{nextEl:r,prevEl:l}};new Swiper(n,i)}}return()=>{clearInterval(a)}}),1e3)}),[o]);return(0,a.createElement)(a.Fragment,null,"list"===o.layout&&(0,a.createElement)("div",{className:"cozy-block-popular-posts-wrapper layout-list",id:`cozyBlock_${e.replace(/-/gi,"_")}`,ref:l},t.length>=0&&(0,a.createElement)(g,{excludeIds:t})),"ticker"===o.layout&&(0,a.createElement)("div",{className:"cozy-block-popular-posts-wrapper layout-ticker "+(o.hoverShow?"hover-show":""),id:`cozyBlock_${e.replace(/-/gi,"_")}`,ref:r},t.length>=0&&(0,a.createElement)(g,{excludeIds:t}),o.carouselOptions.navigation.enabled&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"swiper-button-prev cozy-block-button-prev"}),(0,a.createElement)("div",{className:"swiper-button-next cozy-block-button-next"}))))})),m=JSON.parse('{"u2":"cozy-block/popular-post","WL":"Explore trending topics effortlessly with our \'Popular Post\' block, showcasing a curated selection of the latest and most engaging content for a quick and dynamic browsing experience."}');(0,n.registerBlockType)(m.u2,{title:(0,l.__)("Popular Post","cozy-addons"),description:(0,l.__)(m.WL,"cozy-addons"),icon:()=>(0,a.createElement)("svg",{width:"25",height:"20",viewBox:"0 0 25 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)("rect",{fill:"white",x:"0.5",y:"0.5",width:"24",height:"19",rx:"2.5",stroke:"#5566CA"}),(0,a.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.5 15H4.5V14H20.5V15Z",fill:"#B2BCF9"}),(0,a.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.5 17H7.5V16H17.5V17Z",fill:"#B2BCF9"}),(0,a.createElement)("path",{d:"M9.82813 6.4375H8.42188C8.18888 6.4375 8 6.62638 8 6.85938V11.0781C8 11.3111 8.18888 11.5 8.42188 11.5H9.82813C10.0611 11.5 10.25 11.3111 10.25 11.0781V6.85938C10.25 6.62638 10.0611 6.4375 9.82813 6.4375ZM9.125 10.7969C8.892 10.7969 8.70313 10.608 8.70313 10.375C8.70313 10.142 8.892 9.95312 9.125 9.95312C9.358 9.95312 9.54688 10.142 9.54688 10.375C9.54688 10.608 9.358 10.7969 9.125 10.7969ZM14.75 3.93177C14.75 4.67737 14.2935 5.09559 14.1651 5.59375H15.9532C16.5402 5.59375 16.9972 6.08147 17 6.615C17.0015 6.93032 16.8673 7.26977 16.6583 7.47979L16.6564 7.48173C16.8293 7.89195 16.8011 8.46675 16.4927 8.87864C16.6453 9.33383 16.4915 9.89297 16.2048 10.1927C16.2803 10.5021 16.2442 10.7653 16.0967 10.9773C15.7379 11.4927 14.8487 11.5 14.0968 11.5L14.0468 11.5C13.198 11.4997 12.5033 11.1906 11.9451 10.9423C11.6646 10.8175 11.2979 10.6631 11.0196 10.6579C10.9047 10.6558 10.8125 10.562 10.8125 10.447V6.68936C10.8125 6.63311 10.835 6.57913 10.875 6.53958C11.5714 5.8515 11.8708 5.12301 12.4416 4.5513C12.7018 4.29058 12.7964 3.89676 12.8879 3.51591C12.9661 3.1907 13.1296 2.5 13.4844 2.5C13.9063 2.5 14.75 2.64062 14.75 3.93177Z",fill:"#36CFC6"})),example:{attributes:{cover:cozyBlockAssets.imageDir+"/preview_popular_trending_posts.jpg"},viewportWidth:310},edit:function(e){const{attributes:o,setAttributes:t,clientId:n}=e;if(o.cover)return(0,a.createElement)("img",{src:o.cover});o.blockClientId=n;const s=(0,r.useBlockProps)({className:"cozy-block-wrapper"});return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{...s},(0,a.createElement)(y,{clientId:n,attributes:o})),(0,a.createElement)(r.InspectorControls,{key:"setting",group:"settings"},(0,a.createElement)(i.PanelBody,{title:(0,l.__)("General","cozy-addons")},(0,a.createElement)(i.SelectControl,{title:(0,l.__)("Layout","cozy-addons"),options:[{label:(0,l.__)("List","cozy-addons"),value:"list"},{label:(0,l.__)("Ticker","cozy-addons"),value:"ticker"}],value:o.layout,onChange:e=>t({...o,layout:e})})),"ticker"===o.layout&&(0,a.createElement)(i.PanelBody,{title:(0,l.__)("Ticker Options","cozy-addons"),initialOpen:!1},(0,a.createElement)(i.RangeControl,{label:(0,l.__)("Height","cozy-addons"),min:20,max:1500,step:5,value:o.carouselOptions.height,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,height:Math.abs(e)}})}),(0,a.createElement)(i.TextControl,{label:(0,l.__)("Slides per view","cozy-addons"),value:o.carouselOptions.sliderOptions.slidesPerView,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,sliderOptions:{...o.carouselOptions.sliderOptions,slidesPerView:e}}}),type:"number",min:.1,step:.1}),(0,a.createElement)(i.RangeControl,{label:(0,l.__)("Gap","cozy-addons"),value:o.carouselOptions.sliderOptions.spaceBetween,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,sliderOptions:{...o.carouselOptions.sliderOptions,spaceBetween:e}}}),min:0,step:1,max:100}),(0,a.createElement)(i.ToggleControl,{label:(0,l.__)("Loop","cozy-addons"),checked:o.carouselOptions.sliderOptions.loop,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,sliderOptions:{...o.carouselOptions.sliderOptions,loop:e}}})}),(0,a.createElement)(i.ToggleControl,{label:(0,l.__)("Autoplay","cozy-addons"),checked:o.carouselOptions.sliderOptions.autoplay,onChange:e=>t({carouselOptions:{...o.carouselOptions,sliderOptions:{...o.carouselOptions.sliderOptions,autoplay:e}}})}),(0,a.createElement)(i.TextControl,{label:(0,l.__)("Speed (ms)","cozy-addons"),type:"number",value:o.carouselOptions.sliderOptions.speed,min:500,step:100,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,sliderOptions:{...o.carouselOptions.sliderOptions,speed:e}}}),help:(0,l.__)("*Greater the value, greater the delay.","cozy-addons")}),(0,a.createElement)(i.ToggleControl,{label:(0,l.__)("Enable Navigation","cozy-addons"),checked:o.carouselOptions.navigation.enabled,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,navigation:{...o.carouselOptions.navigation,enabled:e}}})}),o.carouselOptions.navigation.enabled&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(i.RangeControl,{label:(0,l.__)("Vertical Gap","cozy-addons"),min:-100,max:100,step:1,value:o.carouselOptions.navigation.verticalGap,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,navigation:{...o.carouselOptions.navigation,verticalGap:e}}})}),(0,a.createElement)(i.ToggleControl,{label:(0,l.__)("Display on Hover","cozy-addons"),checked:o.hoverShow,onChange:e=>t({hoverShow:e}),help:(0,l.__)("*Show navigation only after hovering the block.")})))),(0,a.createElement)(r.InspectorControls,{key:"style",group:"styles"},"ticker"===o.layout&&o.carouselOptions.navigation.enabled&&(0,a.createElement)(i.PanelBody,{title:(0,l.__)("Navigation Style","cozy-addons"),initialOpen:!1},(0,a.createElement)(i.RangeControl,{label:(0,l.__)("Icon Size","cozy-addons"),value:o.carouselOptions.navigation.iconSize,min:1,max:50,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,navigation:{...o.carouselOptions.navigation,iconSize:e}}})}),(0,a.createElement)(i.RangeControl,{label:(0,l.__)("Icon Box Width","cozy-addons"),value:o.carouselOptions.navigation.iconBoxWidth,min:1,max:50,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,navigation:{...o.carouselOptions.navigation,iconBoxWidth:e}}})}),(0,a.createElement)(i.RangeControl,{label:(0,l.__)("Icon Box Height","cozy-addons"),value:o.carouselOptions.navigation.iconBoxHeight,min:1,max:50,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,navigation:{...o.carouselOptions.navigation,iconBoxHeight:e}}})}),(0,a.createElement)(i.RangeControl,{label:(0,l.__)("Border Radius","cozy-addons"),value:o.carouselOptions.navigation.borderRadius,min:1,max:50,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,navigation:{...o.carouselOptions.navigation,borderRadius:e}}})}),(0,a.createElement)(r.PanelColorSettings,{className:"cozy-color-control",title:(0,l.__)("Background Color","cozy-addons"),colorSettings:[{value:o.carouselOptions.navigation.backgroundColor,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,navigation:{...o.carouselOptions.navigation,backgroundColor:e}}}),label:(0,l.__)("Normal","cozy-addons")},{value:o.carouselOptions.navigation.backgroundColorHover,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,navigation:{...o.carouselOptions.navigation,backgroundColorHover:e}}}),label:(0,l.__)("Hover","cozy-addons")}]}),(0,a.createElement)(r.PanelColorSettings,{className:"cozy-color-control",title:(0,l.__)("Color","cozy-addons"),colorSettings:[{value:o.carouselOptions.navigation.color,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,navigation:{...o.carouselOptions.navigation,color:e}}}),label:(0,l.__)("Normal","cozy-addons")},{value:o.carouselOptions.navigation.colorHover,onChange:e=>t({...o,carouselOptions:{...o.carouselOptions,navigation:{...o.carouselOptions.navigation,colorHover:e}}}),label:(0,l.__)("Hover","cozy-addons")}]}))))},save:function({attributes:e}){const{blockClientId:o,layout:t,carouselOptions:n}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:`cozy-block-popular-posts-wrapper layout-${t} ${e.hoverShow?"hover-show":""}`,id:`cozyBlock_${o.replace(/-/gi,"_")}`},(0,a.createElement)(r.InnerBlocks.Content,null),"ticker"===t&&n.navigation.enabled&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"swiper-button-prev cozy-block-button-prev"}),(0,a.createElement)("div",{className:"swiper-button-next cozy-block-button-next"}))))}})}},t={};function a(e){var n=t[e];if(void 0!==n)return n.exports;var l=t[e]={exports:{}};return o[e](l,l.exports,a),l.exports}a.m=o,e=[],a.O=(o,t,n,l)=>{if(!t){var r=1/0;for(p=0;p<e.length;p++){for(var[t,n,l]=e[p],i=!0,s=0;s<t.length;s++)(!1&l||r>=l)&&Object.keys(a.O).every((e=>a.O[e](t[s])))?t.splice(s--,1):(i=!1,l<r&&(r=l));if(i){e.splice(p--,1);var c=n();void 0!==c&&(o=c)}}return o}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[t,n,l]},a.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return a.d(o,{a:o}),o},a.d=(e,o)=>{for(var t in o)a.o(o,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},a.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={826:0,431:0};a.O.j=o=>0===e[o];var o=(o,t)=>{var n,l,[r,i,s]=t,c=0;if(r.some((o=>0!==e[o]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(s)var p=s(a)}for(o&&o(t);c<r.length;c++)l=r[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(p)},t=globalThis.webpackChunkpopular_posts=globalThis.webpackChunkpopular_posts||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var n=a.O(void 0,[431],(()=>a(718)));n=a.O(n)})();